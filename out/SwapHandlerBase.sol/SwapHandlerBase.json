{"abi":[{"type":"function","name":"executeSwap","inputs":[{"name":"params","type":"tuple","internalType":"struct ISwapHandler.SwapParams","components":[{"name":"underlyingIn","type":"address","internalType":"address"},{"name":"underlyingOut","type":"address","internalType":"address"},{"name":"mode","type":"uint256","internalType":"uint256"},{"name":"amountIn","type":"uint256","internalType":"uint256"},{"name":"amountOut","type":"uint256","internalType":"uint256"},{"name":"exactOutTolerance","type":"uint256","internalType":"uint256"},{"name":"payload","type":"bytes","internalType":"bytes"}]}],"outputs":[],"stateMutability":"nonpayable"}],"bytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"deployedBytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"methodIdentifiers":{"executeSwap((address,address,uint256,uint256,uint256,uint256,bytes))":"df5def35"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.23+commit.f704f362\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"underlyingIn\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"underlyingOut\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"mode\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"amountIn\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"amountOut\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"exactOutTolerance\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"payload\",\"type\":\"bytes\"}],\"internalType\":\"struct ISwapHandler.SwapParams\",\"name\":\"params\",\"type\":\"tuple\"}],\"name\":\"executeSwap\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"executeSwap((address,address,uint256,uint256,uint256,uint256,bytes))\":{\"params\":{\"params\":\"struct defining the requested trade\"}}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"executeSwap((address,address,uint256,uint256,uint256,uint256,bytes))\":{\"notice\":\"Execute a trade on the swap handler\"}},\"notice\":\"Base contract for swap handlers\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/swapHandlers/SwapHandlerBase.sol\":\"SwapHandlerBase\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":'@openzeppelin/=lib/openzeppelin-contracts/contracts/'/\",\":'forge-std/=lib/forge-std/'/\",\":@openzeppelin/=lib/openzeppelin-contracts/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\"]},\"sources\":{\"contracts/Interfaces.sol\":{\"keccak256\":\"0x452b12f1f762a9c0771cac9a393945249568459646d1f413daa63b2cc55f4135\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://4ea372c9e0fbbb654931576f1d97e3a0fbb4f2d8e5dc9a8ef6335d8759bcf088\",\"dweb:/ipfs/QmQ8qaeftZ7CghJq43PWLmxtWjDcFkVVMgXp4eMQ4pQuMz\"]},\"contracts/Utils.sol\":{\"keccak256\":\"0xd78912579cb32481e1bab3ebfb93b21bdaed422b9121829f90d0e0f1ec796711\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://2a134dd36f1b324b7d846e5e0100302aa8d22be614b80890747c824958b3311c\",\"dweb:/ipfs/QmY8fTaJVZBmRXHXQbnzHxF28io4KP2bQtrL7MxX4dZVUY\"]},\"contracts/swapHandlers/ISwapHandler.sol\":{\"keccak256\":\"0xf742ac538385c1d19a91a6c88d3cd25de008be1ffaf192e0482f186e7ae88089\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://fa8d5f0fa0d55ef85e4f4e563e5758176beb464cbecee8bf60aa0f88349ca29a\",\"dweb:/ipfs/QmZ4Xtkqtw2XD3nySqsnfgpxsRGxM7DmXfkC9v6H6pvg3S\"]},\"contracts/swapHandlers/SwapHandlerBase.sol\":{\"keccak256\":\"0xe73679322c10a3fdac6da46f4312db8caa9b695d017d989de6e9f48e8959ade2\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://9e5be4e94ff7c10ce313d3b304bd8c1c1c9a0961e9403f85f820f5860598be55\",\"dweb:/ipfs/QmX8eP3m9RneofpgGbE8ZTe15nnACNqPECWs1xwmR6E72u\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.23+commit.f704f362"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"struct ISwapHandler.SwapParams","name":"params","type":"tuple","components":[{"internalType":"address","name":"underlyingIn","type":"address"},{"internalType":"address","name":"underlyingOut","type":"address"},{"internalType":"uint256","name":"mode","type":"uint256"},{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"uint256","name":"exactOutTolerance","type":"uint256"},{"internalType":"bytes","name":"payload","type":"bytes"}]}],"stateMutability":"nonpayable","type":"function","name":"executeSwap"}],"devdoc":{"kind":"dev","methods":{"executeSwap((address,address,uint256,uint256,uint256,uint256,bytes))":{"params":{"params":"struct defining the requested trade"}}},"version":1},"userdoc":{"kind":"user","methods":{"executeSwap((address,address,uint256,uint256,uint256,uint256,bytes))":{"notice":"Execute a trade on the swap handler"}},"version":1}},"settings":{"remappings":["'@openzeppelin/=lib/openzeppelin-contracts/contracts/'/","'forge-std/=lib/forge-std/'/","@openzeppelin/=lib/openzeppelin-contracts/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","ds-test/=lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/","openzeppelin-contracts/=lib/openzeppelin-contracts/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"contracts/swapHandlers/SwapHandlerBase.sol":"SwapHandlerBase"},"evmVersion":"paris","libraries":{}},"sources":{"contracts/Interfaces.sol":{"keccak256":"0x452b12f1f762a9c0771cac9a393945249568459646d1f413daa63b2cc55f4135","urls":["bzz-raw://4ea372c9e0fbbb654931576f1d97e3a0fbb4f2d8e5dc9a8ef6335d8759bcf088","dweb:/ipfs/QmQ8qaeftZ7CghJq43PWLmxtWjDcFkVVMgXp4eMQ4pQuMz"],"license":"GPL-2.0-or-later"},"contracts/Utils.sol":{"keccak256":"0xd78912579cb32481e1bab3ebfb93b21bdaed422b9121829f90d0e0f1ec796711","urls":["bzz-raw://2a134dd36f1b324b7d846e5e0100302aa8d22be614b80890747c824958b3311c","dweb:/ipfs/QmY8fTaJVZBmRXHXQbnzHxF28io4KP2bQtrL7MxX4dZVUY"],"license":"GPL-2.0-or-later"},"contracts/swapHandlers/ISwapHandler.sol":{"keccak256":"0xf742ac538385c1d19a91a6c88d3cd25de008be1ffaf192e0482f186e7ae88089","urls":["bzz-raw://fa8d5f0fa0d55ef85e4f4e563e5758176beb464cbecee8bf60aa0f88349ca29a","dweb:/ipfs/QmZ4Xtkqtw2XD3nySqsnfgpxsRGxM7DmXfkC9v6H6pvg3S"],"license":"GPL-2.0-or-later"},"contracts/swapHandlers/SwapHandlerBase.sol":{"keccak256":"0xe73679322c10a3fdac6da46f4312db8caa9b695d017d989de6e9f48e8959ade2","urls":["bzz-raw://9e5be4e94ff7c10ce313d3b304bd8c1c1c9a0961e9403f85f820f5860598be55","dweb:/ipfs/QmX8eP3m9RneofpgGbE8ZTe15nnACNqPECWs1xwmR6E72u"],"license":"GPL-2.0-or-later"}},"version":1},"ast":{"absolutePath":"contracts/swapHandlers/SwapHandlerBase.sol","id":16778,"exportedSymbols":{"IERC20":[4104],"IERC20Permit":[4154],"IERC3156FlashBorrower":[4170],"IERC3156FlashLender":[4201],"ISwapHandler":[16511],"SwapHandlerBase":[16777],"Utils":[4980]},"nodeType":"SourceUnit","src":"46:1710:44","nodes":[{"id":16585,"nodeType":"PragmaDirective","src":"46:23:44","nodes":[],"literals":["solidity","^","0.8",".0"]},{"id":16586,"nodeType":"ImportDirective","src":"71:28:44","nodes":[],"absolutePath":"contracts/swapHandlers/ISwapHandler.sol","file":"./ISwapHandler.sol","nameLocation":"-1:-1:-1","scope":16778,"sourceUnit":16512,"symbolAliases":[],"unitAlias":""},{"id":16587,"nodeType":"ImportDirective","src":"100:27:44","nodes":[],"absolutePath":"contracts/Interfaces.sol","file":"../Interfaces.sol","nameLocation":"-1:-1:-1","scope":16778,"sourceUnit":4202,"symbolAliases":[],"unitAlias":""},{"id":16588,"nodeType":"ImportDirective","src":"128:22:44","nodes":[],"absolutePath":"contracts/Utils.sol","file":"../Utils.sol","nameLocation":"-1:-1:-1","scope":16778,"sourceUnit":4981,"symbolAliases":[],"unitAlias":""},{"id":16777,"nodeType":"ContractDefinition","src":"196:1559:44","nodes":[{"id":16639,"nodeType":"FunctionDefinition","src":"252:306:44","nodes":[],"body":{"id":16638,"nodeType":"Block","src":"353:205:44","nodes":[],"statements":[{"assignments":[16605,16607],"declarations":[{"constant":false,"id":16605,"mutability":"mutable","name":"success","nameLocation":"369:7:44","nodeType":"VariableDeclaration","scope":16638,"src":"364:12:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":16604,"name":"bool","nodeType":"ElementaryTypeName","src":"364:4:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":16607,"mutability":"mutable","name":"data","nameLocation":"391:4:44","nodeType":"VariableDeclaration","scope":16638,"src":"378:17:44","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":16606,"name":"bytes","nodeType":"ElementaryTypeName","src":"378:5:44","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"id":16619,"initialValue":{"arguments":[{"arguments":[{"expression":{"expression":{"id":16612,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4104,"src":"433:6:44","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20_$4104_$","typeString":"type(contract IERC20)"}},"id":16613,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"440:7:44","memberName":"approve","nodeType":"MemberAccess","referencedDeclaration":4083,"src":"433:14:44","typeDescriptions":{"typeIdentifier":"t_function_declaration_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$","typeString":"function IERC20.approve(address,uint256) returns (bool)"}},"id":16614,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"448:8:44","memberName":"selector","nodeType":"MemberAccess","src":"433:23:44","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},{"id":16615,"name":"to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16595,"src":"458:2:44","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":16616,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16597,"src":"462:5:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes4","typeString":"bytes4"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":16610,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"410:3:44","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":16611,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"414:18:44","memberName":"encodeWithSelector","nodeType":"MemberAccess","src":"410:22:44","typeDescriptions":{"typeIdentifier":"t_function_abiencodewithselector_pure$_t_bytes4_$returns$_t_bytes_memory_ptr_$","typeString":"function (bytes4) pure returns (bytes memory)"}},"id":16617,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"410:58:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"id":16608,"name":"token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16593,"src":"399:5:44","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":16609,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"405:4:44","memberName":"call","nodeType":"MemberAccess","src":"399:10:44","typeDescriptions":{"typeIdentifier":"t_function_barecall_payable$_t_bytes_memory_ptr_$returns$_t_bool_$_t_bytes_memory_ptr_$","typeString":"function (bytes memory) payable returns (bool,bytes memory)"}},"id":16618,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"399:70:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_bytes_memory_ptr_$","typeString":"tuple(bool,bytes memory)"}},"nodeType":"VariableDeclarationStatement","src":"363:106:44"},{"expression":{"components":[{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":16634,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16620,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16605,"src":"487:7:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":16632,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16624,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":16621,"name":"data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16607,"src":"499:4:44","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":16622,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"504:6:44","memberName":"length","nodeType":"MemberAccess","src":"499:11:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":16623,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"514:1:44","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"499:16:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"||","rightExpression":{"arguments":[{"id":16627,"name":"data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16607,"src":"530:4:44","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"components":[{"id":16629,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"537:4:44","typeDescriptions":{"typeIdentifier":"t_type$_t_bool_$","typeString":"type(bool)"},"typeName":{"id":16628,"name":"bool","nodeType":"ElementaryTypeName","src":"537:4:44","typeDescriptions":{}}}],"id":16630,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"536:6:44","typeDescriptions":{"typeIdentifier":"t_type$_t_bool_$","typeString":"type(bool)"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_type$_t_bool_$","typeString":"type(bool)"}],"expression":{"id":16625,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"519:3:44","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":16626,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"523:6:44","memberName":"decode","nodeType":"MemberAccess","src":"519:10:44","typeDescriptions":{"typeIdentifier":"t_function_abidecode_pure$__$returns$__$","typeString":"function () pure"}},"id":16631,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"519:24:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"499:44:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"id":16633,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"498:46:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"487:57:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"id":16635,"name":"data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16607,"src":"546:4:44","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"id":16636,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"486:65:44","typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_bytes_memory_ptr_$","typeString":"tuple(bool,bytes memory)"}},"functionReturnParameters":16603,"id":16637,"nodeType":"Return","src":"479:72:44"}]},"implemented":true,"kind":"function","modifiers":[],"name":"trySafeApprove","nameLocation":"261:14:44","parameters":{"id":16598,"nodeType":"ParameterList","parameters":[{"constant":false,"id":16593,"mutability":"mutable","name":"token","nameLocation":"284:5:44","nodeType":"VariableDeclaration","scope":16639,"src":"276:13:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":16592,"name":"address","nodeType":"ElementaryTypeName","src":"276:7:44","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":16595,"mutability":"mutable","name":"to","nameLocation":"299:2:44","nodeType":"VariableDeclaration","scope":16639,"src":"291:10:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":16594,"name":"address","nodeType":"ElementaryTypeName","src":"291:7:44","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":16597,"mutability":"mutable","name":"value","nameLocation":"308:5:44","nodeType":"VariableDeclaration","scope":16639,"src":"303:10:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":16596,"name":"uint","nodeType":"ElementaryTypeName","src":"303:4:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"275:39:44"},"returnParameters":{"id":16603,"nodeType":"ParameterList","parameters":[{"constant":false,"id":16600,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":16639,"src":"333:4:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":16599,"name":"bool","nodeType":"ElementaryTypeName","src":"333:4:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":16602,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":16639,"src":"339:12:44","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":16601,"name":"bytes","nodeType":"ElementaryTypeName","src":"339:5:44","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"332:20:44"},"scope":16777,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":16691,"nodeType":"FunctionDefinition","src":"564:477:44","nodes":[],"body":{"id":16690,"nodeType":"Block","src":"642:399:44","nodes":[],"statements":[{"assignments":[16649,16651],"declarations":[{"constant":false,"id":16649,"mutability":"mutable","name":"success","nameLocation":"658:7:44","nodeType":"VariableDeclaration","scope":16690,"src":"653:12:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":16648,"name":"bool","nodeType":"ElementaryTypeName","src":"653:4:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":16651,"mutability":"mutable","name":"data","nameLocation":"680:4:44","nodeType":"VariableDeclaration","scope":16690,"src":"667:17:44","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":16650,"name":"bytes","nodeType":"ElementaryTypeName","src":"667:5:44","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"id":16657,"initialValue":{"arguments":[{"id":16653,"name":"token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16641,"src":"703:5:44","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":16654,"name":"to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16643,"src":"710:2:44","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":16655,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16645,"src":"714:5:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":16652,"name":"trySafeApprove","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16639,"src":"688:14:44","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$_t_bool_$_t_bytes_memory_ptr_$","typeString":"function (address,address,uint256) returns (bool,bytes memory)"}},"id":16656,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"688:32:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_bytes_memory_ptr_$","typeString":"tuple(bool,bytes memory)"}},"nodeType":"VariableDeclarationStatement","src":"652:68:44"},{"condition":{"id":16659,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"813:8:44","subExpression":{"id":16658,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16649,"src":"814:7:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":16682,"nodeType":"IfStatement","src":"809:184:44","trueBody":{"id":16681,"nodeType":"Block","src":"823:170:44","statements":[{"expression":{"id":16667,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"id":16660,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16649,"src":"838:7:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},null],"id":16661,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"837:10:44","typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$__$","typeString":"tuple(bool,)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":16663,"name":"token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16641,"src":"865:5:44","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":16664,"name":"to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16643,"src":"872:2:44","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"hexValue":"30","id":16665,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"876:1:44","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":16662,"name":"trySafeApprove","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16639,"src":"850:14:44","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$_t_bool_$_t_bytes_memory_ptr_$","typeString":"function (address,address,uint256) returns (bool,bytes memory)"}},"id":16666,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"850:28:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_bytes_memory_ptr_$","typeString":"tuple(bool,bytes memory)"}},"src":"837:41:44","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":16668,"nodeType":"ExpressionStatement","src":"837:41:44"},{"condition":{"id":16669,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16649,"src":"896:7:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":16680,"nodeType":"IfStatement","src":"892:91:44","trueBody":{"id":16679,"nodeType":"Block","src":"905:78:44","statements":[{"expression":{"id":16677,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"id":16670,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16649,"src":"924:7:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},null],"id":16671,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"923:10:44","typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$__$","typeString":"tuple(bool,)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":16673,"name":"token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16641,"src":"951:5:44","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":16674,"name":"to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16643,"src":"958:2:44","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":16675,"name":"value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16645,"src":"962:5:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":16672,"name":"trySafeApprove","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16639,"src":"936:14:44","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$_t_bool_$_t_bytes_memory_ptr_$","typeString":"function (address,address,uint256) returns (bool,bytes memory)"}},"id":16676,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"936:32:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_bytes_memory_ptr_$","typeString":"tuple(bool,bytes memory)"}},"src":"923:45:44","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":16678,"nodeType":"ExpressionStatement","src":"923:45:44"}]}}]}},{"condition":{"id":16684,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"1007:8:44","subExpression":{"id":16683,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16649,"src":"1008:7:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":16689,"nodeType":"IfStatement","src":"1003:31:44","trueBody":{"expression":{"arguments":[{"id":16686,"name":"data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16651,"src":"1029:4:44","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":16685,"name":"revertBytes","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16776,"src":"1017:11:44","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes_memory_ptr_$returns$__$","typeString":"function (bytes memory) pure"}},"id":16687,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1017:17:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":16688,"nodeType":"ExpressionStatement","src":"1017:17:44"}}]},"implemented":true,"kind":"function","modifiers":[],"name":"safeApproveWithRetry","nameLocation":"573:20:44","parameters":{"id":16646,"nodeType":"ParameterList","parameters":[{"constant":false,"id":16641,"mutability":"mutable","name":"token","nameLocation":"602:5:44","nodeType":"VariableDeclaration","scope":16691,"src":"594:13:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":16640,"name":"address","nodeType":"ElementaryTypeName","src":"594:7:44","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":16643,"mutability":"mutable","name":"to","nameLocation":"617:2:44","nodeType":"VariableDeclaration","scope":16691,"src":"609:10:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":16642,"name":"address","nodeType":"ElementaryTypeName","src":"609:7:44","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":16645,"mutability":"mutable","name":"value","nameLocation":"626:5:44","nodeType":"VariableDeclaration","scope":16691,"src":"621:10:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":16644,"name":"uint","nodeType":"ElementaryTypeName","src":"621:4:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"593:39:44"},"returnParameters":{"id":16647,"nodeType":"ParameterList","parameters":[],"src":"642:0:44"},"scope":16777,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":16722,"nodeType":"FunctionDefinition","src":"1047:189:44","nodes":[],"body":{"id":16721,"nodeType":"Block","src":"1093:143:44","nodes":[],"statements":[{"assignments":[16697],"declarations":[{"constant":false,"id":16697,"mutability":"mutable","name":"balance","nameLocation":"1108:7:44","nodeType":"VariableDeclaration","scope":16721,"src":"1103:12:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":16696,"name":"uint","nodeType":"ElementaryTypeName","src":"1103:4:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":16707,"initialValue":{"arguments":[{"arguments":[{"id":16704,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"1150:4:44","typeDescriptions":{"typeIdentifier":"t_contract$_SwapHandlerBase_$16777","typeString":"contract SwapHandlerBase"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_SwapHandlerBase_$16777","typeString":"contract SwapHandlerBase"}],"id":16703,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1142:7:44","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":16702,"name":"address","nodeType":"ElementaryTypeName","src":"1142:7:44","typeDescriptions":{}}},"id":16705,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1142:13:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":16699,"name":"token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16693,"src":"1125:5:44","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":16698,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4104,"src":"1118:6:44","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20_$4104_$","typeString":"type(contract IERC20)"}},"id":16700,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1118:13:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$4104","typeString":"contract IERC20"}},"id":16701,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1132:9:44","memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":4065,"src":"1118:23:44","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$returns$_t_uint256_$","typeString":"function (address) view external returns (uint256)"}},"id":16706,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1118:38:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"1103:53:44"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16710,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16708,"name":"balance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16697,"src":"1170:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":16709,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1180:1:44","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"1170:11:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":16720,"nodeType":"IfStatement","src":"1166:63:44","trueBody":{"expression":{"arguments":[{"id":16714,"name":"token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16693,"src":"1202:5:44","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"id":16715,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"1209:3:44","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":16716,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1213:6:44","memberName":"sender","nodeType":"MemberAccess","src":"1209:10:44","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":16717,"name":"balance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16697,"src":"1221:7:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":16711,"name":"Utils","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4980,"src":"1183:5:44","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_Utils_$4980_$","typeString":"type(library Utils)"}},"id":16713,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1189:12:44","memberName":"safeTransfer","nodeType":"MemberAccess","referencedDeclaration":4931,"src":"1183:18:44","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,address,uint256)"}},"id":16718,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1183:46:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":16719,"nodeType":"ExpressionStatement","src":"1183:46:44"}}]},"implemented":true,"kind":"function","modifiers":[],"name":"transferBack","nameLocation":"1056:12:44","parameters":{"id":16694,"nodeType":"ParameterList","parameters":[{"constant":false,"id":16693,"mutability":"mutable","name":"token","nameLocation":"1077:5:44","nodeType":"VariableDeclaration","scope":16722,"src":"1069:13:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":16692,"name":"address","nodeType":"ElementaryTypeName","src":"1069:7:44","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"1068:15:44"},"returnParameters":{"id":16695,"nodeType":"ParameterList","parameters":[],"src":"1093:0:44"},"scope":16777,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":16759,"nodeType":"FunctionDefinition","src":"1242:258:44","nodes":[],"body":{"id":16758,"nodeType":"Block","src":"1327:173:44","nodes":[],"statements":[{"assignments":[16732],"declarations":[{"constant":false,"id":16732,"mutability":"mutable","name":"allowance","nameLocation":"1342:9:44","nodeType":"VariableDeclaration","scope":16758,"src":"1337:14:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":16731,"name":"uint","nodeType":"ElementaryTypeName","src":"1337:4:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":16743,"initialValue":{"arguments":[{"arguments":[{"id":16739,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"1386:4:44","typeDescriptions":{"typeIdentifier":"t_contract$_SwapHandlerBase_$16777","typeString":"contract SwapHandlerBase"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_SwapHandlerBase_$16777","typeString":"contract SwapHandlerBase"}],"id":16738,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1378:7:44","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":16737,"name":"address","nodeType":"ElementaryTypeName","src":"1378:7:44","typeDescriptions":{}}},"id":16740,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1378:13:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":16741,"name":"spender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16728,"src":"1393:7:44","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"arguments":[{"id":16734,"name":"token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16724,"src":"1361:5:44","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":16733,"name":"IERC20","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":4104,"src":"1354:6:44","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC20_$4104_$","typeString":"type(contract IERC20)"}},"id":16735,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1354:13:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IERC20_$4104","typeString":"contract IERC20"}},"id":16736,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1368:9:44","memberName":"allowance","nodeType":"MemberAccess","referencedDeclaration":4074,"src":"1354:23:44","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$_t_address_$returns$_t_uint256_$","typeString":"function (address,address) view external returns (uint256)"}},"id":16742,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1354:47:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"1337:64:44"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16746,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16744,"name":"allowance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16732,"src":"1415:9:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":16745,"name":"minAllowance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16726,"src":"1427:12:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1415:24:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":16757,"nodeType":"IfStatement","src":"1411:82:44","trueBody":{"expression":{"arguments":[{"id":16748,"name":"token","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16724,"src":"1462:5:44","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":16749,"name":"spender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16728,"src":"1469:7:44","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"arguments":[{"id":16752,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1483:4:44","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":16751,"name":"uint","nodeType":"ElementaryTypeName","src":"1483:4:44","typeDescriptions":{}}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"}],"id":16750,"name":"type","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-27,"src":"1478:4:44","typeDescriptions":{"typeIdentifier":"t_function_metatype_pure$__$returns$__$","typeString":"function () pure"}},"id":16753,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1478:10:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_magic_meta_type_t_uint256","typeString":"type(uint256)"}},"id":16754,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"1489:3:44","memberName":"max","nodeType":"MemberAccess","src":"1478:14:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":16747,"name":"safeApproveWithRetry","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16691,"src":"1441:20:44","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_address_$_t_uint256_$returns$__$","typeString":"function (address,address,uint256)"}},"id":16755,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1441:52:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":16756,"nodeType":"ExpressionStatement","src":"1441:52:44"}}]},"implemented":true,"kind":"function","modifiers":[],"name":"setMaxAllowance","nameLocation":"1251:15:44","parameters":{"id":16729,"nodeType":"ParameterList","parameters":[{"constant":false,"id":16724,"mutability":"mutable","name":"token","nameLocation":"1275:5:44","nodeType":"VariableDeclaration","scope":16759,"src":"1267:13:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":16723,"name":"address","nodeType":"ElementaryTypeName","src":"1267:7:44","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":16726,"mutability":"mutable","name":"minAllowance","nameLocation":"1287:12:44","nodeType":"VariableDeclaration","scope":16759,"src":"1282:17:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":16725,"name":"uint","nodeType":"ElementaryTypeName","src":"1282:4:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":16728,"mutability":"mutable","name":"spender","nameLocation":"1309:7:44","nodeType":"VariableDeclaration","scope":16759,"src":"1301:15:44","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":16727,"name":"address","nodeType":"ElementaryTypeName","src":"1301:7:44","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"1266:51:44"},"returnParameters":{"id":16730,"nodeType":"ParameterList","parameters":[],"src":"1327:0:44"},"scope":16777,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":16776,"nodeType":"FunctionDefinition","src":"1506:247:44","nodes":[],"body":{"id":16775,"nodeType":"Block","src":"1562:191:44","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16767,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":16764,"name":"errMsg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16761,"src":"1576:6:44","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":16765,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1583:6:44","memberName":"length","nodeType":"MemberAccess","src":"1576:13:44","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":16766,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1592:1:44","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"1576:17:44","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":16770,"nodeType":"IfStatement","src":"1572:126:44","trueBody":{"id":16769,"nodeType":"Block","src":"1595:103:44","statements":[{"AST":{"nativeSrc":"1618:70:44","nodeType":"YulBlock","src":"1618:70:44","statements":[{"expression":{"arguments":[{"arguments":[{"kind":"number","nativeSrc":"1647:2:44","nodeType":"YulLiteral","src":"1647:2:44","type":"","value":"32"},{"name":"errMsg","nativeSrc":"1651:6:44","nodeType":"YulIdentifier","src":"1651:6:44"}],"functionName":{"name":"add","nativeSrc":"1643:3:44","nodeType":"YulIdentifier","src":"1643:3:44"},"nativeSrc":"1643:15:44","nodeType":"YulFunctionCall","src":"1643:15:44"},{"arguments":[{"name":"errMsg","nativeSrc":"1666:6:44","nodeType":"YulIdentifier","src":"1666:6:44"}],"functionName":{"name":"mload","nativeSrc":"1660:5:44","nodeType":"YulIdentifier","src":"1660:5:44"},"nativeSrc":"1660:13:44","nodeType":"YulFunctionCall","src":"1660:13:44"}],"functionName":{"name":"revert","nativeSrc":"1636:6:44","nodeType":"YulIdentifier","src":"1636:6:44"},"nativeSrc":"1636:38:44","nodeType":"YulFunctionCall","src":"1636:38:44"},"nativeSrc":"1636:38:44","nodeType":"YulExpressionStatement","src":"1636:38:44"}]},"evmVersion":"paris","externalReferences":[{"declaration":16761,"isOffset":false,"isSlot":false,"src":"1651:6:44","valueSize":1},{"declaration":16761,"isOffset":false,"isSlot":false,"src":"1666:6:44","valueSize":1}],"id":16768,"nodeType":"InlineAssembly","src":"1609:79:44"}]}},{"expression":{"arguments":[{"hexValue":"5377617048616e646c6572426173653a20656d707479206572726f72","id":16772,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"1715:30:44","typeDescriptions":{"typeIdentifier":"t_stringliteral_d28b476158440053a301a0563d4ec0644805190e08036384516edebbe0cc2dbf","typeString":"literal_string \"SwapHandlerBase: empty error\""},"value":"SwapHandlerBase: empty error"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_d28b476158440053a301a0563d4ec0644805190e08036384516edebbe0cc2dbf","typeString":"literal_string \"SwapHandlerBase: empty error\""}],"id":16771,"name":"revert","nodeType":"Identifier","overloadedDeclarations":[-19,-19],"referencedDeclaration":-19,"src":"1708:6:44","typeDescriptions":{"typeIdentifier":"t_function_revert_pure$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory) pure"}},"id":16773,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1708:38:44","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":16774,"nodeType":"ExpressionStatement","src":"1708:38:44"}]},"implemented":true,"kind":"function","modifiers":[],"name":"revertBytes","nameLocation":"1515:11:44","parameters":{"id":16762,"nodeType":"ParameterList","parameters":[{"constant":false,"id":16761,"mutability":"mutable","name":"errMsg","nameLocation":"1540:6:44","nodeType":"VariableDeclaration","scope":16776,"src":"1527:19:44","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":16760,"name":"bytes","nodeType":"ElementaryTypeName","src":"1527:5:44","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"1526:21:44"},"returnParameters":{"id":16763,"nodeType":"ParameterList","parameters":[],"src":"1562:0:44"},"scope":16777,"stateMutability":"pure","virtual":false,"visibility":"internal"}],"abstract":true,"baseContracts":[{"baseName":{"id":16590,"name":"ISwapHandler","nameLocations":["233:12:44"],"nodeType":"IdentifierPath","referencedDeclaration":16511,"src":"233:12:44"},"id":16591,"nodeType":"InheritanceSpecifier","src":"233:12:44"}],"canonicalName":"SwapHandlerBase","contractDependencies":[],"contractKind":"contract","documentation":{"id":16589,"nodeType":"StructuredDocumentation","src":"152:44:44","text":"@notice Base contract for swap handlers"},"fullyImplemented":false,"linearizedBaseContracts":[16777,16511],"name":"SwapHandlerBase","nameLocation":"214:15:44","scope":16778,"usedErrors":[],"usedEvents":[]}],"license":"GPL-2.0-or-later"},"id":44}