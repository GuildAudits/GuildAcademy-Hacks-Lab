{"abi":[{"type":"function","name":"executeSwap","inputs":[{"name":"params","type":"tuple","internalType":"struct ISwapHandler.SwapParams","components":[{"name":"underlyingIn","type":"address","internalType":"address"},{"name":"underlyingOut","type":"address","internalType":"address"},{"name":"mode","type":"uint256","internalType":"uint256"},{"name":"amountIn","type":"uint256","internalType":"uint256"},{"name":"amountOut","type":"uint256","internalType":"uint256"},{"name":"exactOutTolerance","type":"uint256","internalType":"uint256"},{"name":"payload","type":"bytes","internalType":"bytes"}]}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"uniSwapRouterV2","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"uniSwapRouterV3","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"}],"bytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"deployedBytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"methodIdentifiers":{"executeSwap((address,address,uint256,uint256,uint256,uint256,bytes))":"df5def35","uniSwapRouterV2()":"32be98ac","uniSwapRouterV3()":"2181ac75"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.23+commit.f704f362\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"underlyingIn\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"underlyingOut\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"mode\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"amountIn\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"amountOut\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"exactOutTolerance\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"payload\",\"type\":\"bytes\"}],\"internalType\":\"struct ISwapHandler.SwapParams\",\"name\":\"params\",\"type\":\"tuple\"}],\"name\":\"executeSwap\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"uniSwapRouterV2\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"uniSwapRouterV3\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"executeSwap((address,address,uint256,uint256,uint256,uint256,bytes))\":{\"params\":{\"params\":\"struct defining the requested trade\"}}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"executeSwap((address,address,uint256,uint256,uint256,uint256,bytes))\":{\"notice\":\"Execute a trade on the swap handler\"}},\"notice\":\"Base contract for swap handlers which execute a secondary swap on Uniswap V2 or V3 for exact output\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/swapHandlers/SwapHandlerCombinedBase.sol\":\"SwapHandlerCombinedBase\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":'@openzeppelin/=lib/openzeppelin-contracts/contracts/'/\",\":'forge-std/=lib/forge-std/'/\",\":@openzeppelin/=lib/openzeppelin-contracts/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\"]},\"sources\":{\"contracts/Interfaces.sol\":{\"keccak256\":\"0x452b12f1f762a9c0771cac9a393945249568459646d1f413daa63b2cc55f4135\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://4ea372c9e0fbbb654931576f1d97e3a0fbb4f2d8e5dc9a8ef6335d8759bcf088\",\"dweb:/ipfs/QmQ8qaeftZ7CghJq43PWLmxtWjDcFkVVMgXp4eMQ4pQuMz\"]},\"contracts/Utils.sol\":{\"keccak256\":\"0xd78912579cb32481e1bab3ebfb93b21bdaed422b9121829f90d0e0f1ec796711\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://2a134dd36f1b324b7d846e5e0100302aa8d22be614b80890747c824958b3311c\",\"dweb:/ipfs/QmY8fTaJVZBmRXHXQbnzHxF28io4KP2bQtrL7MxX4dZVUY\"]},\"contracts/swapHandlers/ISwapHandler.sol\":{\"keccak256\":\"0xf742ac538385c1d19a91a6c88d3cd25de008be1ffaf192e0482f186e7ae88089\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://fa8d5f0fa0d55ef85e4f4e563e5758176beb464cbecee8bf60aa0f88349ca29a\",\"dweb:/ipfs/QmZ4Xtkqtw2XD3nySqsnfgpxsRGxM7DmXfkC9v6H6pvg3S\"]},\"contracts/swapHandlers/SwapHandlerBase.sol\":{\"keccak256\":\"0xe73679322c10a3fdac6da46f4312db8caa9b695d017d989de6e9f48e8959ade2\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://9e5be4e94ff7c10ce313d3b304bd8c1c1c9a0961e9403f85f820f5860598be55\",\"dweb:/ipfs/QmX8eP3m9RneofpgGbE8ZTe15nnACNqPECWs1xwmR6E72u\"]},\"contracts/swapHandlers/SwapHandlerCombinedBase.sol\":{\"keccak256\":\"0xf8fc37bb5211eb3099d58ab72d675bfb4a92da5210d7f87c2c593be45176a92e\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://faed836c4ad8a84a2e46a219ea489f73659e483e503a7e9e768484db09316219\",\"dweb:/ipfs/QmRWWwZ8NB6SANQ88YbFpzaotwDxLNig27kSXqvYR2kFU5\"]},\"contracts/vendor/ISwapRouterV2.sol\":{\"keccak256\":\"0x3514727f96ae550bf827a50d1bf5322df045500b1835bdc1e6171a150690845c\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://e6c88704a102b4056a86d47ae432372d4b272d0a1f91a0dfb4912327140c29ed\",\"dweb:/ipfs/QmZMULiYAcMFuJzpmvdrni5AiF4zudRYYHc7vHapDbgGYU\"]},\"contracts/vendor/ISwapRouterV3.sol\":{\"keccak256\":\"0x715ca258f9a17e08294b25310a4449903a84908f6d8ba85a28cbc9bc91b49e02\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://f84a7574b1fc4eedce2142bba3b7fe388bff48877b0260de8fdc816fcf6161f1\",\"dweb:/ipfs/QmctqumD2oPcEfYALB3RoGkrXjcNqnaeqYduu45n54TWU5\"]},\"contracts/vendor/IUniswapV3SwapCallback.sol\":{\"keccak256\":\"0x3f485fb1a44e8fbeadefb5da07d66edab3cfe809f0ac4074b1e54e3eb3c4cf69\",\"license\":\"GPL-2.0-or-later\",\"urls\":[\"bzz-raw://095ce0626b41318c772b3ebf19d548282607f6a8f3d6c41c13edfbd5370c8652\",\"dweb:/ipfs/QmVDZfJJ89UUCE1hMyzqpkZAtQ8jUsBgZNE5AMRG7RzRFS\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.23+commit.f704f362"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"struct ISwapHandler.SwapParams","name":"params","type":"tuple","components":[{"internalType":"address","name":"underlyingIn","type":"address"},{"internalType":"address","name":"underlyingOut","type":"address"},{"internalType":"uint256","name":"mode","type":"uint256"},{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"uint256","name":"exactOutTolerance","type":"uint256"},{"internalType":"bytes","name":"payload","type":"bytes"}]}],"stateMutability":"nonpayable","type":"function","name":"executeSwap"},{"inputs":[],"stateMutability":"view","type":"function","name":"uniSwapRouterV2","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"uniSwapRouterV3","outputs":[{"internalType":"address","name":"","type":"address"}]}],"devdoc":{"kind":"dev","methods":{"executeSwap((address,address,uint256,uint256,uint256,uint256,bytes))":{"params":{"params":"struct defining the requested trade"}}},"version":1},"userdoc":{"kind":"user","methods":{"executeSwap((address,address,uint256,uint256,uint256,uint256,bytes))":{"notice":"Execute a trade on the swap handler"}},"version":1}},"settings":{"remappings":["'@openzeppelin/=lib/openzeppelin-contracts/contracts/'/","'forge-std/=lib/forge-std/'/","@openzeppelin/=lib/openzeppelin-contracts/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","ds-test/=lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/","openzeppelin-contracts/=lib/openzeppelin-contracts/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"contracts/swapHandlers/SwapHandlerCombinedBase.sol":"SwapHandlerCombinedBase"},"evmVersion":"paris","libraries":{}},"sources":{"contracts/Interfaces.sol":{"keccak256":"0x452b12f1f762a9c0771cac9a393945249568459646d1f413daa63b2cc55f4135","urls":["bzz-raw://4ea372c9e0fbbb654931576f1d97e3a0fbb4f2d8e5dc9a8ef6335d8759bcf088","dweb:/ipfs/QmQ8qaeftZ7CghJq43PWLmxtWjDcFkVVMgXp4eMQ4pQuMz"],"license":"GPL-2.0-or-later"},"contracts/Utils.sol":{"keccak256":"0xd78912579cb32481e1bab3ebfb93b21bdaed422b9121829f90d0e0f1ec796711","urls":["bzz-raw://2a134dd36f1b324b7d846e5e0100302aa8d22be614b80890747c824958b3311c","dweb:/ipfs/QmY8fTaJVZBmRXHXQbnzHxF28io4KP2bQtrL7MxX4dZVUY"],"license":"GPL-2.0-or-later"},"contracts/swapHandlers/ISwapHandler.sol":{"keccak256":"0xf742ac538385c1d19a91a6c88d3cd25de008be1ffaf192e0482f186e7ae88089","urls":["bzz-raw://fa8d5f0fa0d55ef85e4f4e563e5758176beb464cbecee8bf60aa0f88349ca29a","dweb:/ipfs/QmZ4Xtkqtw2XD3nySqsnfgpxsRGxM7DmXfkC9v6H6pvg3S"],"license":"GPL-2.0-or-later"},"contracts/swapHandlers/SwapHandlerBase.sol":{"keccak256":"0xe73679322c10a3fdac6da46f4312db8caa9b695d017d989de6e9f48e8959ade2","urls":["bzz-raw://9e5be4e94ff7c10ce313d3b304bd8c1c1c9a0961e9403f85f820f5860598be55","dweb:/ipfs/QmX8eP3m9RneofpgGbE8ZTe15nnACNqPECWs1xwmR6E72u"],"license":"GPL-2.0-or-later"},"contracts/swapHandlers/SwapHandlerCombinedBase.sol":{"keccak256":"0xf8fc37bb5211eb3099d58ab72d675bfb4a92da5210d7f87c2c593be45176a92e","urls":["bzz-raw://faed836c4ad8a84a2e46a219ea489f73659e483e503a7e9e768484db09316219","dweb:/ipfs/QmRWWwZ8NB6SANQ88YbFpzaotwDxLNig27kSXqvYR2kFU5"],"license":"GPL-2.0-or-later"},"contracts/vendor/ISwapRouterV2.sol":{"keccak256":"0x3514727f96ae550bf827a50d1bf5322df045500b1835bdc1e6171a150690845c","urls":["bzz-raw://e6c88704a102b4056a86d47ae432372d4b272d0a1f91a0dfb4912327140c29ed","dweb:/ipfs/QmZMULiYAcMFuJzpmvdrni5AiF4zudRYYHc7vHapDbgGYU"],"license":"GPL-2.0-or-later"},"contracts/vendor/ISwapRouterV3.sol":{"keccak256":"0x715ca258f9a17e08294b25310a4449903a84908f6d8ba85a28cbc9bc91b49e02","urls":["bzz-raw://f84a7574b1fc4eedce2142bba3b7fe388bff48877b0260de8fdc816fcf6161f1","dweb:/ipfs/QmctqumD2oPcEfYALB3RoGkrXjcNqnaeqYduu45n54TWU5"],"license":"GPL-2.0-or-later"},"contracts/vendor/IUniswapV3SwapCallback.sol":{"keccak256":"0x3f485fb1a44e8fbeadefb5da07d66edab3cfe809f0ac4074b1e54e3eb3c4cf69","urls":["bzz-raw://095ce0626b41318c772b3ebf19d548282607f6a8f3d6c41c13edfbd5370c8652","dweb:/ipfs/QmVDZfJJ89UUCE1hMyzqpkZAtQ8jUsBgZNE5AMRG7RzRFS"],"license":"GPL-2.0-or-later"}},"version":1},"ast":{"absolutePath":"contracts/swapHandlers/SwapHandlerCombinedBase.sol","id":17074,"exportedSymbols":{"IERC20":[4104],"IERC20Permit":[4154],"IERC3156FlashBorrower":[4170],"IERC3156FlashLender":[4201],"ISwapHandler":[16511],"ISwapRouterV2":[18139],"ISwapRouterV3":[18239],"IUniswapV2Router01":[18054],"IUniswapV3SwapCallback":[18253],"SwapHandlerBase":[16777],"SwapHandlerCombinedBase":[17073],"Utils":[4980]},"nodeType":"SourceUnit","src":"46:4090:45","nodes":[{"id":16779,"nodeType":"PragmaDirective","src":"46:23:45","nodes":[],"literals":["solidity","^","0.8",".0"]},{"id":16780,"nodeType":"ImportDirective","src":"71:31:45","nodes":[],"absolutePath":"contracts/swapHandlers/SwapHandlerBase.sol","file":"./SwapHandlerBase.sol","nameLocation":"-1:-1:-1","scope":17074,"sourceUnit":16778,"symbolAliases":[],"unitAlias":""},{"id":16781,"nodeType":"ImportDirective","src":"103:37:45","nodes":[],"absolutePath":"contracts/vendor/ISwapRouterV3.sol","file":"../vendor/ISwapRouterV3.sol","nameLocation":"-1:-1:-1","scope":17074,"sourceUnit":18240,"symbolAliases":[],"unitAlias":""},{"id":16782,"nodeType":"ImportDirective","src":"141:37:45","nodes":[],"absolutePath":"contracts/vendor/ISwapRouterV2.sol","file":"../vendor/ISwapRouterV2.sol","nameLocation":"-1:-1:-1","scope":17074,"sourceUnit":18140,"symbolAliases":[],"unitAlias":""},{"id":17073,"nodeType":"ContractDefinition","src":"292:3843:45","nodes":[{"id":16787,"nodeType":"VariableDeclaration","src":"359:40:45","nodes":[],"constant":false,"functionSelector":"32be98ac","mutability":"immutable","name":"uniSwapRouterV2","nameLocation":"384:15:45","scope":17073,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":16786,"name":"address","nodeType":"ElementaryTypeName","src":"359:7:45","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":16789,"nodeType":"VariableDeclaration","src":"405:40:45","nodes":[],"constant":false,"functionSelector":"2181ac75","mutability":"immutable","name":"uniSwapRouterV3","nameLocation":"430:15:45","scope":17073,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":16788,"name":"address","nodeType":"ElementaryTypeName","src":"405:7:45","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"public"},{"id":16805,"nodeType":"FunctionDefinition","src":"452:159:45","nodes":[],"body":{"id":16804,"nodeType":"Block","src":"516:95:45","nodes":[],"statements":[{"expression":{"id":16798,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":16796,"name":"uniSwapRouterV2","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16787,"src":"526:15:45","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":16797,"name":"uniSwapRouterV2_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16791,"src":"544:16:45","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"526:34:45","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":16799,"nodeType":"ExpressionStatement","src":"526:34:45"},{"expression":{"id":16802,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":16800,"name":"uniSwapRouterV3","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16789,"src":"570:15:45","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":16801,"name":"uniSwapRouterV3_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16793,"src":"588:16:45","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"570:34:45","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":16803,"nodeType":"ExpressionStatement","src":"570:34:45"}]},"implemented":true,"kind":"constructor","modifiers":[],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":16794,"nodeType":"ParameterList","parameters":[{"constant":false,"id":16791,"mutability":"mutable","name":"uniSwapRouterV2_","nameLocation":"472:16:45","nodeType":"VariableDeclaration","scope":16805,"src":"464:24:45","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":16790,"name":"address","nodeType":"ElementaryTypeName","src":"464:7:45","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":16793,"mutability":"mutable","name":"uniSwapRouterV3_","nameLocation":"498:16:45","nodeType":"VariableDeclaration","scope":16805,"src":"490:24:45","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":16792,"name":"address","nodeType":"ElementaryTypeName","src":"490:7:45","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"463:52:45"},"returnParameters":{"id":16795,"nodeType":"ParameterList","parameters":[],"src":"516:0:45"},"scope":17073,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":16904,"nodeType":"FunctionDefinition","src":"617:1560:45","nodes":[],"body":{"id":16903,"nodeType":"Block","src":"682:1495:45","nodes":[],"statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16816,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":16813,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16808,"src":"700:6:45","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$16503_memory_ptr","typeString":"struct ISwapHandler.SwapParams memory"}},"id":16814,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"707:4:45","memberName":"mode","nodeType":"MemberAccess","referencedDeclaration":16494,"src":"700:11:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"hexValue":"31","id":16815,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"715:1:45","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"700:16:45","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"5377617048616e646c6572436f6d62696e6564426173653a20696e76616c6964206d6f6465","id":16817,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"718:39:45","typeDescriptions":{"typeIdentifier":"t_stringliteral_771f5c663ab9145515088a6f777665b8bb1d5362a1c3b512870c0d2632e0d5eb","typeString":"literal_string \"SwapHandlerCombinedBase: invalid mode\""},"value":"SwapHandlerCombinedBase: invalid mode"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_771f5c663ab9145515088a6f777665b8bb1d5362a1c3b512870c0d2632e0d5eb","typeString":"literal_string \"SwapHandlerCombinedBase: invalid mode\""}],"id":16812,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"692:7:45","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":16818,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"692:66:45","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":16819,"nodeType":"ExpressionStatement","src":"692:66:45"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16823,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":16820,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16808,"src":"773:6:45","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$16503_memory_ptr","typeString":"struct ISwapHandler.SwapParams memory"}},"id":16821,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"780:4:45","memberName":"mode","nodeType":"MemberAccess","referencedDeclaration":16494,"src":"773:11:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":16822,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"788:1:45","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"773:16:45","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":16896,"nodeType":"Block","src":"841:1286:45","statements":[{"assignments":[16830],"declarations":[{"constant":false,"id":16830,"mutability":"mutable","name":"path","nameLocation":"996:4:45","nodeType":"VariableDeclaration","scope":16896,"src":"983:17:45","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":16829,"name":"bytes","nodeType":"ElementaryTypeName","src":"983:5:45","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"id":16831,"nodeType":"VariableDeclarationStatement","src":"983:17:45"},{"expression":{"id":16847,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"expression":{"id":16832,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16808,"src":"1015:6:45","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$16503_memory_ptr","typeString":"struct ISwapHandler.SwapParams memory"}},"id":16834,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"1022:7:45","memberName":"payload","nodeType":"MemberAccess","referencedDeclaration":16502,"src":"1015:14:45","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"id":16835,"name":"path","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16830,"src":"1031:4:45","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"id":16836,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"1014:22:45","typeDescriptions":{"typeIdentifier":"t_tuple$_t_bytes_memory_ptr_$_t_bytes_memory_ptr_$","typeString":"tuple(bytes memory,bytes memory)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":16839,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16808,"src":"1050:6:45","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$16503_memory_ptr","typeString":"struct ISwapHandler.SwapParams memory"}},"id":16840,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"1057:7:45","memberName":"payload","nodeType":"MemberAccess","referencedDeclaration":16502,"src":"1050:14:45","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"components":[{"id":16842,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1067:5:45","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes_storage_ptr_$","typeString":"type(bytes storage pointer)"},"typeName":{"id":16841,"name":"bytes","nodeType":"ElementaryTypeName","src":"1067:5:45","typeDescriptions":{}}},{"id":16844,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1074:5:45","typeDescriptions":{"typeIdentifier":"t_type$_t_bytes_storage_ptr_$","typeString":"type(bytes storage pointer)"},"typeName":{"id":16843,"name":"bytes","nodeType":"ElementaryTypeName","src":"1074:5:45","typeDescriptions":{}}}],"id":16845,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"1066:14:45","typeDescriptions":{"typeIdentifier":"t_tuple$_t_type$_t_bytes_storage_ptr_$_$_t_type$_t_bytes_storage_ptr_$_$","typeString":"tuple(type(bytes storage pointer),type(bytes storage pointer))"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_tuple$_t_type$_t_bytes_storage_ptr_$_$_t_type$_t_bytes_storage_ptr_$_$","typeString":"tuple(type(bytes storage pointer),type(bytes storage pointer))"}],"expression":{"id":16837,"name":"abi","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-1,"src":"1039:3:45","typeDescriptions":{"typeIdentifier":"t_magic_abi","typeString":"abi"}},"id":16838,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"1043:6:45","memberName":"decode","nodeType":"MemberAccess","src":"1039:10:45","typeDescriptions":{"typeIdentifier":"t_function_abidecode_pure$__$returns$__$","typeString":"function () pure"}},"id":16846,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1039:42:45","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bytes_memory_ptr_$_t_bytes_memory_ptr_$","typeString":"tuple(bytes memory,bytes memory)"}},"src":"1014:67:45","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":16848,"nodeType":"ExpressionStatement","src":"1014:67:45"},{"assignments":[16850],"declarations":[{"constant":false,"id":16850,"mutability":"mutable","name":"primaryAmountOut","nameLocation":"1101:16:45","nodeType":"VariableDeclaration","scope":16896,"src":"1096:21:45","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":16849,"name":"uint","nodeType":"ElementaryTypeName","src":"1096:4:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":16854,"initialValue":{"arguments":[{"id":16852,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16808,"src":"1132:6:45","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$16503_memory_ptr","typeString":"struct ISwapHandler.SwapParams memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_SwapParams_$16503_memory_ptr","typeString":"struct ISwapHandler.SwapParams memory"}],"id":16851,"name":"swapPrimary","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16912,"src":"1120:11:45","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_struct$_SwapParams_$16503_memory_ptr_$returns$_t_uint256_$","typeString":"function (struct ISwapHandler.SwapParams memory) returns (uint256)"}},"id":16853,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1120:19:45","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"1096:43:45"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16858,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":16855,"name":"primaryAmountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16850,"src":"1158:16:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":16856,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16808,"src":"1177:6:45","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$16503_memory_ptr","typeString":"struct ISwapHandler.SwapParams memory"}},"id":16857,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"1184:9:45","memberName":"amountOut","nodeType":"MemberAccess","referencedDeclaration":16498,"src":"1177:16:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1158:35:45","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":16895,"nodeType":"IfStatement","src":"1154:963:45","trueBody":{"id":16894,"nodeType":"Block","src":"1195:922:45","statements":[{"expression":{"arguments":[{"commonType":{"typeIdentifier":"t_bool","typeString":"bool"},"id":16873,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16863,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":16860,"name":"path","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16830,"src":"1829:4:45","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":16861,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1834:6:45","memberName":"length","nodeType":"MemberAccess","src":"1829:11:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">=","rightExpression":{"hexValue":"3430","id":16862,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1844:2:45","typeDescriptions":{"typeIdentifier":"t_rational_40_by_1","typeString":"int_const 40"},"value":"40"},"src":"1829:17:45","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"BinaryOperation","operator":"&&","rightExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16872,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":16864,"name":"path","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16830,"src":"1850:4:45","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":16865,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1855:6:45","memberName":"length","nodeType":"MemberAccess","src":"1850:11:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"commonType":{"typeIdentifier":"t_rational_480_by_1","typeString":"int_const 480"},"id":16871,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"leftExpression":{"hexValue":"3230","id":16866,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1864:2:45","typeDescriptions":{"typeIdentifier":"t_rational_20_by_1","typeString":"int_const 20"},"value":"20"},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_rational_460_by_1","typeString":"int_const 460"},"id":16869,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"leftExpression":{"hexValue":"3230","id":16867,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1870:2:45","typeDescriptions":{"typeIdentifier":"t_rational_20_by_1","typeString":"int_const 20"},"value":"20"},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"hexValue":"3233","id":16868,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1875:2:45","typeDescriptions":{"typeIdentifier":"t_rational_23_by_1","typeString":"int_const 23"},"value":"23"},"src":"1870:7:45","typeDescriptions":{"typeIdentifier":"t_rational_460_by_1","typeString":"int_const 460"}}],"id":16870,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"1869:9:45","typeDescriptions":{"typeIdentifier":"t_rational_460_by_1","typeString":"int_const 460"}},"src":"1864:14:45","typeDescriptions":{"typeIdentifier":"t_rational_480_by_1","typeString":"int_const 480"}},"src":"1850:28:45","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"src":"1829:49:45","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"hexValue":"5377617048616e646c65725061796c6f6164426173653a207365636f6e64617279207061746820666f726d6174","id":16874,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"1880:47:45","typeDescriptions":{"typeIdentifier":"t_stringliteral_fe6727415370a99aef294164781fb9b49ec882604b5c2ae16eae6f8308f08497","typeString":"literal_string \"SwapHandlerPayloadBase: secondary path format\""},"value":"SwapHandlerPayloadBase: secondary path format"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"},{"typeIdentifier":"t_stringliteral_fe6727415370a99aef294164781fb9b49ec882604b5c2ae16eae6f8308f08497","typeString":"literal_string \"SwapHandlerPayloadBase: secondary path format\""}],"id":16859,"name":"require","nodeType":"Identifier","overloadedDeclarations":[-18,-18],"referencedDeclaration":-18,"src":"1821:7:45","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$","typeString":"function (bool,string memory) pure"}},"id":16875,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1821:107:45","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":16876,"nodeType":"ExpressionStatement","src":"1821:107:45"},{"assignments":[16878],"declarations":[{"constant":false,"id":16878,"mutability":"mutable","name":"remainder","nameLocation":"1952:9:45","nodeType":"VariableDeclaration","scope":16894,"src":"1947:14:45","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":16877,"name":"uint","nodeType":"ElementaryTypeName","src":"1947:4:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":16879,"nodeType":"VariableDeclarationStatement","src":"1947:14:45"},{"id":16887,"nodeType":"UncheckedBlock","src":"1979:62:45","statements":[{"expression":{"id":16885,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":16880,"name":"remainder","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16878,"src":"1991:9:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":16884,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":16881,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16808,"src":"2003:6:45","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$16503_memory_ptr","typeString":"struct ISwapHandler.SwapParams memory"}},"id":16882,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2010:9:45","memberName":"amountOut","nodeType":"MemberAccess","referencedDeclaration":16498,"src":"2003:16:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"id":16883,"name":"primaryAmountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16850,"src":"2022:16:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2003:35:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1991:47:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16886,"nodeType":"ExpressionStatement","src":"1991:47:45"}]},{"expression":{"arguments":[{"id":16889,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16808,"src":"2078:6:45","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$16503_memory_ptr","typeString":"struct ISwapHandler.SwapParams memory"}},{"id":16890,"name":"remainder","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16878,"src":"2086:9:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":16891,"name":"path","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16830,"src":"2097:4:45","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_SwapParams_$16503_memory_ptr","typeString":"struct ISwapHandler.SwapParams memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":16888,"name":"swapExactOutDirect","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16989,"src":"2059:18:45","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_struct$_SwapParams_$16503_memory_ptr_$_t_uint256_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (struct ISwapHandler.SwapParams memory,uint256,bytes memory)"}},"id":16892,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2059:43:45","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":16893,"nodeType":"ExpressionStatement","src":"2059:43:45"}]}}]},"id":16897,"nodeType":"IfStatement","src":"769:1358:45","trueBody":{"id":16828,"nodeType":"Block","src":"791:44:45","statements":[{"expression":{"arguments":[{"id":16825,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16808,"src":"817:6:45","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$16503_memory_ptr","typeString":"struct ISwapHandler.SwapParams memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_SwapParams_$16503_memory_ptr","typeString":"struct ISwapHandler.SwapParams memory"}],"id":16824,"name":"swapPrimary","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16912,"src":"805:11:45","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_struct$_SwapParams_$16503_memory_ptr_$returns$_t_uint256_$","typeString":"function (struct ISwapHandler.SwapParams memory) returns (uint256)"}},"id":16826,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"805:19:45","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16827,"nodeType":"ExpressionStatement","src":"805:19:45"}]}},{"expression":{"arguments":[{"expression":{"id":16899,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16808,"src":"2150:6:45","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$16503_memory_ptr","typeString":"struct ISwapHandler.SwapParams memory"}},"id":16900,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2157:12:45","memberName":"underlyingIn","nodeType":"MemberAccess","referencedDeclaration":16490,"src":"2150:19:45","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":16898,"name":"transferBack","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16722,"src":"2137:12:45","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$returns$__$","typeString":"function (address)"}},"id":16901,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2137:33:45","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":16902,"nodeType":"ExpressionStatement","src":"2137:33:45"}]},"baseFunctions":[16510],"functionSelector":"df5def35","implemented":true,"kind":"function","modifiers":[],"name":"executeSwap","nameLocation":"626:11:45","overrides":{"id":16810,"nodeType":"OverrideSpecifier","overrides":[],"src":"673:8:45"},"parameters":{"id":16809,"nodeType":"ParameterList","parameters":[{"constant":false,"id":16808,"mutability":"mutable","name":"params","nameLocation":"656:6:45","nodeType":"VariableDeclaration","scope":16904,"src":"638:24:45","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$16503_memory_ptr","typeString":"struct ISwapHandler.SwapParams"},"typeName":{"id":16807,"nodeType":"UserDefinedTypeName","pathNode":{"id":16806,"name":"SwapParams","nameLocations":["638:10:45"],"nodeType":"IdentifierPath","referencedDeclaration":16503,"src":"638:10:45"},"referencedDeclaration":16503,"src":"638:10:45","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$16503_storage_ptr","typeString":"struct ISwapHandler.SwapParams"}},"visibility":"internal"}],"src":"637:26:45"},"returnParameters":{"id":16811,"nodeType":"ParameterList","parameters":[],"src":"682:0:45"},"scope":17073,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":16912,"nodeType":"FunctionDefinition","src":"2183:89:45","nodes":[],"implemented":false,"kind":"function","modifiers":[],"name":"swapPrimary","nameLocation":"2192:11:45","parameters":{"id":16908,"nodeType":"ParameterList","parameters":[{"constant":false,"id":16907,"mutability":"mutable","name":"params","nameLocation":"2222:6:45","nodeType":"VariableDeclaration","scope":16912,"src":"2204:24:45","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$16503_memory_ptr","typeString":"struct ISwapHandler.SwapParams"},"typeName":{"id":16906,"nodeType":"UserDefinedTypeName","pathNode":{"id":16905,"name":"SwapParams","nameLocations":["2204:10:45"],"nodeType":"IdentifierPath","referencedDeclaration":16503,"src":"2204:10:45"},"referencedDeclaration":16503,"src":"2204:10:45","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$16503_storage_ptr","typeString":"struct ISwapHandler.SwapParams"}},"visibility":"internal"}],"src":"2203:26:45"},"returnParameters":{"id":16911,"nodeType":"ParameterList","parameters":[{"constant":false,"id":16910,"mutability":"mutable","name":"amountOut","nameLocation":"2261:9:45","nodeType":"VariableDeclaration","scope":16912,"src":"2256:14:45","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":16909,"name":"uint","nodeType":"ElementaryTypeName","src":"2256:4:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2255:16:45"},"scope":17073,"stateMutability":"nonpayable","virtual":true,"visibility":"internal"},{"id":16989,"nodeType":"FunctionDefinition","src":"2278:902:45","nodes":[],"body":{"id":16988,"nodeType":"Block","src":"2375:805:45","nodes":[],"statements":[{"assignments":[16923,16926],"declarations":[{"constant":false,"id":16923,"mutability":"mutable","name":"isUniV2","nameLocation":"2391:7:45","nodeType":"VariableDeclaration","scope":16988,"src":"2386:12:45","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":16922,"name":"bool","nodeType":"ElementaryTypeName","src":"2386:4:45","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":16926,"mutability":"mutable","name":"uniV2Path","nameLocation":"2417:9:45","nodeType":"VariableDeclaration","scope":16988,"src":"2400:26:45","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":16924,"name":"address","nodeType":"ElementaryTypeName","src":"2400:7:45","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":16925,"nodeType":"ArrayTypeName","src":"2400:9:45","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"}],"id":16930,"initialValue":{"arguments":[{"id":16928,"name":"path","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16919,"src":"2455:4:45","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":16927,"name":"detectAndDecodeUniV2Path","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17061,"src":"2430:24:45","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes_memory_ptr_$returns$_t_bool_$_t_array$_t_address_$dyn_memory_ptr_$","typeString":"function (bytes memory) pure returns (bool,address[] memory)"}},"id":16929,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2430:30:45","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_array$_t_address_$dyn_memory_ptr_$","typeString":"tuple(bool,address[] memory)"}},"nodeType":"VariableDeclarationStatement","src":"2385:75:45"},{"condition":{"id":16931,"name":"isUniV2","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16923,"src":"2475:7:45","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":16986,"nodeType":"Block","src":"2722:452:45","statements":[{"expression":{"arguments":[{"expression":{"id":16959,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16915,"src":"2752:6:45","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$16503_memory_ptr","typeString":"struct ISwapHandler.SwapParams memory"}},"id":16960,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2759:12:45","memberName":"underlyingIn","nodeType":"MemberAccess","referencedDeclaration":16490,"src":"2752:19:45","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"id":16961,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16915,"src":"2773:6:45","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$16503_memory_ptr","typeString":"struct ISwapHandler.SwapParams memory"}},"id":16962,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2780:8:45","memberName":"amountIn","nodeType":"MemberAccess","referencedDeclaration":16496,"src":"2773:15:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":16963,"name":"uniSwapRouterV3","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16789,"src":"2790:15:45","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"}],"id":16958,"name":"setMaxAllowance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16759,"src":"2736:15:45","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_uint256_$_t_address_$returns$__$","typeString":"function (address,uint256,address)"}},"id":16964,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2736:70:45","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":16965,"nodeType":"ExpressionStatement","src":"2736:70:45"},{"expression":{"arguments":[{"arguments":[{"id":16972,"name":"path","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16919,"src":"2941:4:45","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"expression":{"id":16973,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"2978:3:45","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":16974,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2982:6:45","memberName":"sender","nodeType":"MemberAccess","src":"2978:10:45","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":16975,"name":"amountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16917,"src":"3021:9:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"arguments":[{"id":16978,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"3074:4:45","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":16977,"name":"uint","nodeType":"ElementaryTypeName","src":"3074:4:45","typeDescriptions":{}}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"}],"id":16976,"name":"type","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-27,"src":"3069:4:45","typeDescriptions":{"typeIdentifier":"t_function_metatype_pure$__$returns$__$","typeString":"function () pure"}},"id":16979,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3069:10:45","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_magic_meta_type_t_uint256","typeString":"type(uint256)"}},"id":16980,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3080:3:45","memberName":"max","nodeType":"MemberAccess","src":"3069:14:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"id":16981,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"3115:5:45","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":16982,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3121:9:45","memberName":"timestamp","nodeType":"MemberAccess","src":"3115:15:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":16970,"name":"ISwapRouterV3","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18239,"src":"2881:13:45","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ISwapRouterV3_$18239_$","typeString":"type(contract ISwapRouterV3)"}},"id":16971,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2895:17:45","memberName":"ExactOutputParams","nodeType":"MemberAccess","referencedDeclaration":18229,"src":"2881:31:45","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_ExactOutputParams_$18229_storage_ptr_$","typeString":"type(struct ISwapRouterV3.ExactOutputParams storage pointer)"}},"id":16983,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"nameLocations":["2935:4:45","2967:9:45","3010:9:45","3052:15:45","3105:8:45"],"names":["path","recipient","amountOut","amountInMaximum","deadline"],"nodeType":"FunctionCall","src":"2881:268:45","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_ExactOutputParams_$18229_memory_ptr","typeString":"struct ISwapRouterV3.ExactOutputParams memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_ExactOutputParams_$18229_memory_ptr","typeString":"struct ISwapRouterV3.ExactOutputParams memory"}],"expression":{"arguments":[{"id":16967,"name":"uniSwapRouterV3","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16789,"src":"2835:15:45","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":16966,"name":"ISwapRouterV3","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18239,"src":"2821:13:45","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ISwapRouterV3_$18239_$","typeString":"type(contract ISwapRouterV3)"}},"id":16968,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2821:30:45","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_ISwapRouterV3_$18239","typeString":"contract ISwapRouterV3"}},"id":16969,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2852:11:45","memberName":"exactOutput","nodeType":"MemberAccess","referencedDeclaration":18238,"src":"2821:42:45","typeDescriptions":{"typeIdentifier":"t_function_external_payable$_t_struct$_ExactOutputParams_$18229_memory_ptr_$returns$_t_uint256_$","typeString":"function (struct ISwapRouterV3.ExactOutputParams memory) payable external returns (uint256)"}},"id":16984,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2821:342:45","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":16985,"nodeType":"ExpressionStatement","src":"2821:342:45"}]},"id":16987,"nodeType":"IfStatement","src":"2471:703:45","trueBody":{"id":16957,"nodeType":"Block","src":"2484:232:45","statements":[{"expression":{"arguments":[{"expression":{"id":16933,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16915,"src":"2514:6:45","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$16503_memory_ptr","typeString":"struct ISwapHandler.SwapParams memory"}},"id":16934,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2521:12:45","memberName":"underlyingIn","nodeType":"MemberAccess","referencedDeclaration":16490,"src":"2514:19:45","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"id":16935,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16915,"src":"2535:6:45","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$16503_memory_ptr","typeString":"struct ISwapHandler.SwapParams memory"}},"id":16936,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2542:8:45","memberName":"amountIn","nodeType":"MemberAccess","referencedDeclaration":16496,"src":"2535:15:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":16937,"name":"uniSwapRouterV2","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16787,"src":"2552:15:45","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_address","typeString":"address"}],"id":16932,"name":"setMaxAllowance","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16759,"src":"2498:15:45","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_uint256_$_t_address_$returns$__$","typeString":"function (address,uint256,address)"}},"id":16938,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2498:70:45","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":16939,"nodeType":"ExpressionStatement","src":"2498:70:45"},{"expression":{"arguments":[{"id":16944,"name":"amountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16917,"src":"2639:9:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"expression":{"arguments":[{"id":16947,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2655:4:45","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":16946,"name":"uint","nodeType":"ElementaryTypeName","src":"2655:4:45","typeDescriptions":{}}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"}],"id":16945,"name":"type","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-27,"src":"2650:4:45","typeDescriptions":{"typeIdentifier":"t_function_metatype_pure$__$returns$__$","typeString":"function () pure"}},"id":16948,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2650:10:45","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_magic_meta_type_t_uint256","typeString":"type(uint256)"}},"id":16949,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"2661:3:45","memberName":"max","nodeType":"MemberAccess","src":"2650:14:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":16950,"name":"uniV2Path","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16926,"src":"2666:9:45","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},{"expression":{"id":16951,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"2677:3:45","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":16952,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2681:6:45","memberName":"sender","nodeType":"MemberAccess","src":"2677:10:45","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"id":16953,"name":"block","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-4,"src":"2689:5:45","typeDescriptions":{"typeIdentifier":"t_magic_block","typeString":"block"}},"id":16954,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2695:9:45","memberName":"timestamp","nodeType":"MemberAccess","src":"2689:15:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"arguments":[{"id":16941,"name":"uniSwapRouterV2","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16787,"src":"2597:15:45","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":16940,"name":"ISwapRouterV2","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":18139,"src":"2583:13:45","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ISwapRouterV2_$18139_$","typeString":"type(contract ISwapRouterV2)"}},"id":16942,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2583:30:45","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_ISwapRouterV2_$18139","typeString":"contract ISwapRouterV2"}},"id":16943,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2614:24:45","memberName":"swapTokensForExactTokens","nodeType":"MemberAccess","referencedDeclaration":17934,"src":"2583:55:45","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_uint256_$_t_uint256_$_t_array$_t_address_$dyn_memory_ptr_$_t_address_$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$","typeString":"function (uint256,uint256,address[] memory,address,uint256) external returns (uint256[] memory)"}},"id":16955,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2583:122:45","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[] memory"}},"id":16956,"nodeType":"ExpressionStatement","src":"2583:122:45"}]}}]},"implemented":true,"kind":"function","modifiers":[],"name":"swapExactOutDirect","nameLocation":"2287:18:45","parameters":{"id":16920,"nodeType":"ParameterList","parameters":[{"constant":false,"id":16915,"mutability":"mutable","name":"params","nameLocation":"2324:6:45","nodeType":"VariableDeclaration","scope":16989,"src":"2306:24:45","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$16503_memory_ptr","typeString":"struct ISwapHandler.SwapParams"},"typeName":{"id":16914,"nodeType":"UserDefinedTypeName","pathNode":{"id":16913,"name":"SwapParams","nameLocations":["2306:10:45"],"nodeType":"IdentifierPath","referencedDeclaration":16503,"src":"2306:10:45"},"referencedDeclaration":16503,"src":"2306:10:45","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$16503_storage_ptr","typeString":"struct ISwapHandler.SwapParams"}},"visibility":"internal"},{"constant":false,"id":16917,"mutability":"mutable","name":"amountOut","nameLocation":"2337:9:45","nodeType":"VariableDeclaration","scope":16989,"src":"2332:14:45","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":16916,"name":"uint","nodeType":"ElementaryTypeName","src":"2332:4:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":16919,"mutability":"mutable","name":"path","nameLocation":"2361:4:45","nodeType":"VariableDeclaration","scope":16989,"src":"2348:17:45","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":16918,"name":"bytes","nodeType":"ElementaryTypeName","src":"2348:5:45","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"2305:61:45"},"returnParameters":{"id":16921,"nodeType":"ParameterList","parameters":[],"src":"2375:0:45"},"scope":17073,"stateMutability":"nonpayable","virtual":false,"visibility":"private"},{"id":17061,"nodeType":"FunctionDefinition","src":"3186:554:45","nodes":[],"body":{"id":17060,"nodeType":"Block","src":"3285:455:45","nodes":[],"statements":[{"assignments":[17000],"declarations":[{"constant":false,"id":17000,"mutability":"mutable","name":"isUniV2","nameLocation":"3300:7:45","nodeType":"VariableDeclaration","scope":17060,"src":"3295:12:45","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":16999,"name":"bool","nodeType":"ElementaryTypeName","src":"3295:4:45","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"id":17007,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":17006,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":17004,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":17001,"name":"path","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16991,"src":"3310:4:45","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":17002,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3315:6:45","memberName":"length","nodeType":"MemberAccess","src":"3310:11:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"%","rightExpression":{"hexValue":"3230","id":17003,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3324:2:45","typeDescriptions":{"typeIdentifier":"t_rational_20_by_1","typeString":"int_const 20"},"value":"20"},"src":"3310:16:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":17005,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3330:1:45","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3310:21:45","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"nodeType":"VariableDeclarationStatement","src":"3295:36:45"},{"assignments":[17012],"declarations":[{"constant":false,"id":17012,"mutability":"mutable","name":"addressPath","nameLocation":"3358:11:45","nodeType":"VariableDeclaration","scope":17060,"src":"3341:28:45","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":17010,"name":"address","nodeType":"ElementaryTypeName","src":"3341:7:45","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":17011,"nodeType":"ArrayTypeName","src":"3341:9:45","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"}],"id":17013,"nodeType":"VariableDeclarationStatement","src":"3341:28:45"},{"condition":{"id":17014,"name":"isUniV2","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17000,"src":"3384:7:45","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":17055,"nodeType":"IfStatement","src":"3380:314:45","trueBody":{"id":17054,"nodeType":"Block","src":"3393:301:45","statements":[{"assignments":[17016],"declarations":[{"constant":false,"id":17016,"mutability":"mutable","name":"addressPathSize","nameLocation":"3412:15:45","nodeType":"VariableDeclaration","scope":17054,"src":"3407:20:45","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":17015,"name":"uint","nodeType":"ElementaryTypeName","src":"3407:4:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":17021,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":17020,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":17017,"name":"path","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16991,"src":"3430:4:45","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":17018,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3435:6:45","memberName":"length","nodeType":"MemberAccess","src":"3430:11:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"/","rightExpression":{"hexValue":"3230","id":17019,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3444:2:45","typeDescriptions":{"typeIdentifier":"t_rational_20_by_1","typeString":"int_const 20"},"value":"20"},"src":"3430:16:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"3407:39:45"},{"expression":{"id":17028,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":17022,"name":"addressPath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17012,"src":"3460:11:45","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":17026,"name":"addressPathSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17016,"src":"3488:15:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":17025,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"NewExpression","src":"3474:13:45","typeDescriptions":{"typeIdentifier":"t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_address_$dyn_memory_ptr_$","typeString":"function (uint256) pure returns (address[] memory)"},"typeName":{"baseType":{"id":17023,"name":"address","nodeType":"ElementaryTypeName","src":"3478:7:45","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":17024,"nodeType":"ArrayTypeName","src":"3478:9:45","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}}},"id":17027,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3474:30:45","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"src":"3460:44:45","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":17029,"nodeType":"ExpressionStatement","src":"3460:44:45"},{"id":17053,"nodeType":"UncheckedBlock","src":"3519:165:45","statements":[{"body":{"id":17051,"nodeType":"Block","src":"3589:81:45","statements":[{"expression":{"id":17049,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"id":17040,"name":"addressPath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17012,"src":"3611:11:45","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}},"id":17042,"indexExpression":{"id":17041,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17031,"src":"3623:1:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"3611:14:45","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":17044,"name":"path","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":16991,"src":"3638:4:45","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":17047,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":17045,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17031,"src":"3644:1:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"*","rightExpression":{"hexValue":"3230","id":17046,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3648:2:45","typeDescriptions":{"typeIdentifier":"t_rational_20_by_1","typeString":"int_const 20"},"value":"20"},"src":"3644:6:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":17043,"name":"toAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17072,"src":"3628:9:45","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes_memory_ptr_$_t_uint256_$returns$_t_address_$","typeString":"function (bytes memory,uint256) pure returns (address)"}},"id":17048,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3628:23:45","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3611:40:45","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":17050,"nodeType":"ExpressionStatement","src":"3611:40:45"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":17036,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":17034,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17031,"src":"3563:1:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":17035,"name":"addressPathSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17016,"src":"3567:15:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3563:19:45","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":17052,"initializationExpression":{"assignments":[17031],"declarations":[{"constant":false,"id":17031,"mutability":"mutable","name":"i","nameLocation":"3556:1:45","nodeType":"VariableDeclaration","scope":17052,"src":"3551:6:45","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":17030,"name":"uint","nodeType":"ElementaryTypeName","src":"3551:4:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":17033,"initialValue":{"hexValue":"30","id":17032,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3560:1:45","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"3551:10:45"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":17038,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"3584:3:45","subExpression":{"id":17037,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17031,"src":"3586:1:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":17039,"nodeType":"ExpressionStatement","src":"3584:3:45"},"nodeType":"ForStatement","src":"3547:123:45"}]}]}},{"expression":{"components":[{"id":17056,"name":"isUniV2","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17000,"src":"3712:7:45","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},{"id":17057,"name":"addressPath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":17012,"src":"3721:11:45","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[] memory"}}],"id":17058,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"3711:22:45","typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_array$_t_address_$dyn_memory_ptr_$","typeString":"tuple(bool,address[] memory)"}},"functionReturnParameters":16998,"id":17059,"nodeType":"Return","src":"3704:29:45"}]},"implemented":true,"kind":"function","modifiers":[],"name":"detectAndDecodeUniV2Path","nameLocation":"3195:24:45","parameters":{"id":16992,"nodeType":"ParameterList","parameters":[{"constant":false,"id":16991,"mutability":"mutable","name":"path","nameLocation":"3233:4:45","nodeType":"VariableDeclaration","scope":17061,"src":"3220:17:45","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":16990,"name":"bytes","nodeType":"ElementaryTypeName","src":"3220:5:45","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"3219:19:45"},"returnParameters":{"id":16998,"nodeType":"ParameterList","parameters":[{"constant":false,"id":16994,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":17061,"src":"3261:4:45","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":16993,"name":"bool","nodeType":"ElementaryTypeName","src":"3261:4:45","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":16997,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":17061,"src":"3267:16:45","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":16995,"name":"address","nodeType":"ElementaryTypeName","src":"3267:7:45","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":16996,"nodeType":"ArrayTypeName","src":"3267:9:45","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"}],"src":"3260:24:45"},"scope":17073,"stateMutability":"pure","virtual":false,"visibility":"private"},{"id":17072,"nodeType":"FunctionDefinition","src":"3746:387:45","nodes":[],"body":{"id":17071,"nodeType":"Block","src":"3834:299:45","nodes":[],"statements":[{"AST":{"nativeSrc":"3906:221:45","nodeType":"YulBlock","src":"3906:221:45","statements":[{"nativeSrc":"4039:78:45","nodeType":"YulAssignment","src":"4039:78:45","value":{"arguments":[{"arguments":[{"arguments":[{"arguments":[{"name":"data","nativeSrc":"4067:4:45","nodeType":"YulIdentifier","src":"4067:4:45"},{"kind":"number","nativeSrc":"4073:4:45","nodeType":"YulLiteral","src":"4073:4:45","type":"","value":"0x20"}],"functionName":{"name":"add","nativeSrc":"4063:3:45","nodeType":"YulIdentifier","src":"4063:3:45"},"nativeSrc":"4063:15:45","nodeType":"YulFunctionCall","src":"4063:15:45"},{"name":"start","nativeSrc":"4080:5:45","nodeType":"YulIdentifier","src":"4080:5:45"}],"functionName":{"name":"add","nativeSrc":"4059:3:45","nodeType":"YulIdentifier","src":"4059:3:45"},"nativeSrc":"4059:27:45","nodeType":"YulFunctionCall","src":"4059:27:45"}],"functionName":{"name":"mload","nativeSrc":"4053:5:45","nodeType":"YulIdentifier","src":"4053:5:45"},"nativeSrc":"4053:34:45","nodeType":"YulFunctionCall","src":"4053:34:45"},{"kind":"number","nativeSrc":"4089:27:45","nodeType":"YulLiteral","src":"4089:27:45","type":"","value":"0x1000000000000000000000000"}],"functionName":{"name":"div","nativeSrc":"4049:3:45","nodeType":"YulIdentifier","src":"4049:3:45"},"nativeSrc":"4049:68:45","nodeType":"YulFunctionCall","src":"4049:68:45"},"variableNames":[{"name":"result","nativeSrc":"4039:6:45","nodeType":"YulIdentifier","src":"4039:6:45"}]}]},"evmVersion":"paris","externalReferences":[{"declaration":17063,"isOffset":false,"isSlot":false,"src":"4067:4:45","valueSize":1},{"declaration":17068,"isOffset":false,"isSlot":false,"src":"4039:6:45","valueSize":1},{"declaration":17065,"isOffset":false,"isSlot":false,"src":"4080:5:45","valueSize":1}],"id":17070,"nodeType":"InlineAssembly","src":"3897:230:45"}]},"implemented":true,"kind":"function","modifiers":[],"name":"toAddress","nameLocation":"3755:9:45","parameters":{"id":17066,"nodeType":"ParameterList","parameters":[{"constant":false,"id":17063,"mutability":"mutable","name":"data","nameLocation":"3778:4:45","nodeType":"VariableDeclaration","scope":17072,"src":"3765:17:45","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":17062,"name":"bytes","nodeType":"ElementaryTypeName","src":"3765:5:45","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"},{"constant":false,"id":17065,"mutability":"mutable","name":"start","nameLocation":"3789:5:45","nodeType":"VariableDeclaration","scope":17072,"src":"3784:10:45","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":17064,"name":"uint","nodeType":"ElementaryTypeName","src":"3784:4:45","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3764:31:45"},"returnParameters":{"id":17069,"nodeType":"ParameterList","parameters":[{"constant":false,"id":17068,"mutability":"mutable","name":"result","nameLocation":"3826:6:45","nodeType":"VariableDeclaration","scope":17072,"src":"3818:14:45","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":17067,"name":"address","nodeType":"ElementaryTypeName","src":"3818:7:45","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"3817:16:45"},"scope":17073,"stateMutability":"pure","virtual":false,"visibility":"private"}],"abstract":true,"baseContracts":[{"baseName":{"id":16784,"name":"SwapHandlerBase","nameLocations":["337:15:45"],"nodeType":"IdentifierPath","referencedDeclaration":16777,"src":"337:15:45"},"id":16785,"nodeType":"InheritanceSpecifier","src":"337:15:45"}],"canonicalName":"SwapHandlerCombinedBase","contractDependencies":[],"contractKind":"contract","documentation":{"id":16783,"nodeType":"StructuredDocumentation","src":"180:112:45","text":"@notice Base contract for swap handlers which execute a secondary swap on Uniswap V2 or V3 for exact output"},"fullyImplemented":false,"linearizedBaseContracts":[17073,16777,16511],"name":"SwapHandlerCombinedBase","nameLocation":"310:23:45","scope":17074,"usedErrors":[],"usedEvents":[]}],"license":"GPL-2.0-or-later"},"id":45}